<p-card header="Books">
  <p-table #dt [value]="books" dataKey="bookId" [rowHover]="true" [rows]="10" [showCurrentPageReport]="true"
           [rowsPerPageOptions]="[10,25,50]" [loading]="loading" [paginator]="true"
           currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
           [filterDelay]="0" [globalFilterFields]="['title','editorial','short_description.name']">
    <ng-template pTemplate="caption">
      <div class="flex text-left">
        <button pButton label="Clear Filters" class="p-button-outlined text-right" icon="pi pi-filter-slash"
                (click)="clear(dt)"></button>
      </div>
    </ng-template>
    <ng-template pTemplate="header">
      <tr>
        <th pSortableColumn="title" style="min-width: 14rem">
          <div class="flex justify-content-between align-items-center">
            Title
            <p-sortIcon field="title"></p-sortIcon>
            <p-columnFilter type="text" field="title" display="menu" class="ml-auto"></p-columnFilter>
          </div>
        </th>
        <th>Authors</th>
        <th pSortableColumn="editorial" style="min-width: 14rem">
          <div class="flex justify-content-between align-items-center">
            Editorial
            <p-sortIcon field="editorial"></p-sortIcon>
            <p-columnFilter type="text" field="editorial" display="menu" class="ml-auto"></p-columnFilter>
          </div>
        </th>
        <th>
          <div class="flex justify-content-between align-items-center">
            Description
            <p-columnFilter type="text" field="short_description" display="menu" class="ml-auto"></p-columnFilter>
          </div>
        </th>
        <th style="width: 5rem">Actions</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-book>
      <tr class="p-selectable-row">
        <td>
          {{book.title}}
        </td>
        <td>
          {{book.authors | joinlist}}
        </td>
        <td>
          {{book.editorial}}
        </td>
        <td>
          {{book.short_description}}
        </td>
        <td style="text-align:center">
          <button pButton pRipple type="button" icon="pi pi-eye" class="p-button-rounded p-button-text"
                  pTooltip="Details" tooltipPosition="top" (click)="details(book.bookId)"></button>
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="8">No books found</td>
      </tr>
    </ng-template>
  </p-table>
</p-card>

